<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
</head>
<body>
<h1>USBIO Java Interface Description.</h1>
<h2>Introduction</h2>
This document is part of the USBIO Development Kit and is covered by
its license agreement.
It describes the Java API of the USBIO driver. This Java interfaces
covers the complete API of the USBIO kernel driver. This document
describes the reference
of the Java interface. For more information about customization,
interactions between functions and other
topics please refer to the USBIO Reference Manual which is part of this
distribution. The functions,
data structures and variables have the same names as in the USBIO
Reference Manual.
<h2>Build Environment</h2>
The package consists of the Java classes and a interface DLL. Both
software modules are
delivered in source code and object format.
<p>To build the DLL the Visual Studio version 6
and the STL port from HP is required. To build the DLL start the
workspace USBIOJAVA.dsw
and build the project in the Visual Studio. It is necessary to add the
STL library
and set the include path to the location of it.
</p>
<p>
The java source consists of the library and two demo applications. To
translate the
Java source code the Java 2 SDK, Version 1.4.2 from SUN Microsystems
should be used.
The build environment requires the environment variable JAVA_HOME.
Please create this
environment variable and set it to the root path of the Java SDK. Than
you can run the
command batch build.cmd which is located in the source\JAVA folder.
This batch builds
the class library and two demo programs.
</p>
<p>
The object files are placed in the folders bin\release and bin\debug.
The mouseSimple.jar is very
simple command line tool. Use the shortcuts from the start menu to
start the mouseSimple or the
UsbIoJava application.
The mouseSimple application reads data from a mouse or
a similar device and prints it to the command window.
The UsbioJavaApp.jar application has a graphical user interface. It
allows an interactive
communication with an USB device.
</p>
<h2>Debugging the JAVA interface</h2>
The JNI DLL has a build in debug support. The debug version of the
library can create a
trace of the called functions and possible errors. To enable the
feature two registry keys are used.
<br>
<ul>
  <li>Path: HKLM/Software/Thesycon/USBIO/USBIOJAVA
  </li>
  <ul>
    <li>DbgMask (DWORD value)
    </li>
    <li>DbgFile (STR_SZ value)
    </li>
  </ul>
</ul>
The DbgMask controls the amount of traces. A value of 3 creates error
traces, a value of
0xffff creates a full trace. If the key DbgFile does not exists the
traces are sent to a
debugger. If the value points to a valid file name the traces are
written to the file. The file
is overwritten each time the DLL is restarted.
</body>
</html>
